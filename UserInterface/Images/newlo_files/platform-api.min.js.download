!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("lodash"));else if("function"==typeof define&&define.amd)define(["lodash"],t);else{var n="object"==typeof exports?t(require("lodash")):t(e._);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.promiseApplied=function(e,t){return new Promise(function(n){e.waitForChangesApplied(function(){return n(t)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigateTo=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);t.navigateTo=function(e,t,n,i,a){var p=i.pageRef,u=i.pageLink,f=o.default.get(p,"id")||u;if(f)return e.pages.navigateTo(f),(0,r.promiseApplied)(e,a)}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hiddenComponents:{show:function(e,t,n,o){var r=o.componentRef,i=e.pages.getFocusedPageId();e.mobile.hiddenComponents.show(r.id,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function r(e){return{name:e.name,fullPath:e.location,isDirectory:e.directory}}t.default={listChildren:function(e,t,n,i){var a=e.wixCode.fileSystem,p=a.getVirtualDescriptor(i.path,!0);return a.getChildren(p).then(function(e){return o.default.map(e,r)})},readFile:function(e,t,n,o){var r=e.wixCode.fileSystem,i=r.getVirtualDescriptor(o.path,!1);return r.readFile(i)},writeFile:function(e,t,n,o){var r=e.wixCode.fileSystem,i=r.getVirtualDescriptor(o.path,!1);return r.writeFile(i,o.content)},deleteFile:function(e,t,n,o){var r=e.wixCode.fileSystem,i=r.getVirtualDescriptor(o.path,!1);return r.deleteItem(i)},flush:function(e){return e.wixCode.fileSystem.flush()},getViewerInfo:function(e){return e.wixCode.fileSystem.getViewerInfo()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function r(e,t,n,r){return new Promise(function(n,i){var a=o.default.clone(r);o.default.get(r,"appDefinitionId")?e.tpa.app.isInstalled(r.appDefinitionId)?i(new Error("Application already installed.")):e.tpa.appMarket.getDataAsync(r.appDefinitionId).then(function(p){p&&!p.error?"Wix"===p.by?(a.callback=function(a){if(a.onError)i(new Error(a.onError));else if(t=e.tpa.app.getDataByAppDefId(r.appDefinitionId),a.page){var p=e.pages.data.get(a.page.id);n({instanceId:o.default.get(t,"instanceId"),pageRef:a.page,pageUriSEO:o.default.get(p,"pageUriSEO"),title:o.default.get(p,"title")})}else n({instanceId:o.default.get(t,"instanceId")})},e.tpa.app.add(r.appDefinitionId,a)):i(new Error("Can't add a non Wix application")):i(new Error("Application with "+r.appDefinitionId+" appDefinitionId do not exist."))}):i(new Error("options must contain appDefinitionId"))})}t.default={isAppSectionInstalled:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.sectionId,a=r.appDefinitionId;return new Promise(function(n,r){if(i){var p=t.applicationId;if(a){var u=e.tpa.app.getDataByAppDefId(a);p=o.default.get(u,"applicationId")}n(e.tpa.section.isSectionInstalledByTpaPageId(p,i))}else r(new Error("options must contain sectionId"))})},isApplicationInstalled:function(e,t,n){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).appDefinitionId;return new Promise(function(t,n){o?t(e.tpa.app.isInstalled(o)):n(new Error("options must contain appDefinitionId"))})},add:{application:r,component:function(e,t,n,r){return new Promise(function(n,i){var a=o.default.clone(r);if(o.default.get(r,"componentType")){if(r.appDefinitionId||(a.appDefinitionId=t.appDefinitionId),"WIDGET"===r.componentType){if(!o.default.isObject(r.widget))return void i(new Error("options must contain a widget object"));a.widget.tpaWidgetId=r.widget.widgetId}else if("PAGE"===r.componentType){if(!o.default.isObject(r.page))return void i(new Error("options must contain a page object"));if(r.page.isHidden&&!o.default.isBoolean(r.page.isHidden))return void i(new Error("isHidden param should be of type boolean"))}a.callback=function(t){if(t.onError)i(new Error(t.onError));else if("WIDGET"===r.componentType)n({compId:t.comp.id});else{var a=e.pages.data.get(t.page.id);n({compId:t.sectionId,pageRef:t.page,pageUriSEO:o.default.get(a,"pageUriSEO"),title:o.default.get(a,"title")})}},e.tpa.comp.add(a)}else i(new Error("options must contain componentType"))})}},app:{getDataByAppDefId:function(e,t,n,o){return e.tpa.app.getDataByAppDefId(o)},getAllCompsByApplicationId:function(e,t,n,o){return e.tpa.app.getAllCompsByApplicationId(o)},refreshApp:function(e,t){var n=e.tpa.app.getAllCompsByApplicationId(t.applicationId);return e.tpa.app.refreshApp(n)},delete:function(e,t){return new Promise(function(n){e.tpa.app.delete(t.applicationId),e.waitForChangesApplied(n)})},add:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={colors:{getAll:function(e){return e.theme.colors.getAll()}},fonts:{getMap:function(e){return e.theme.fonts.getMap()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCustomNoPermissionsPageId:function(e){return e.siteMembers.getCustomNoPermissionsPageId()},setCustomNoPermissionsPageId:function(e,t,n,o){return e.siteMembers.setCustomNoPermissionsPageId(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getFooter:function(e){return e.siteSegments.getFooter()},getHeader:function(e){return e.siteSegments.getHeader()},getPagesContainer:function(e){return e.siteSegments.getPagesContainer()},getSiteStructure:function(e){return e.siteSegments.getSiteStructure()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function r(e,t,n,r){var i=r.routerRef,a=e.routers.get.byRef(i),p=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId");if(a&&p===a.appDefinitionId)return{id:a.id,prefix:a.prefix,config:a.config,pages:(0,o.default)(a.pages).invertBy().map(function(t,n){return{pageRef:e.pages.getReference(n),pageRoles:t}}).value()}}function i(e,t,n,r){var i=r.prefix,a=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),p=e.routers.getRouterRef.byPrefix(i);if(!p)return p;var u=e.routers.get.byRef(p);return u&&u.appDefinitionId===a?p:void 0}t.default={add:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.prefix,a=r.config,p=r.group;return new Promise(function(n){var r={appDefinitionId:o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),prefix:i,config:a};p&&(r.group=p),n(e.routers.add(r))})},remove:function(e,t,n,r){var i=r.routerRef,a=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),p=e.routers.get.byRef(i);p&&p.appDefinitionId===a&&e.routers.remove(i)},get:r,getAll:function(e,t,n){var a=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId");return o.default.map(e.routers.get.byApp(a),function(n){var o=n.prefix,a=i(e,t,0,{prefix:o});return r(e,t,0,{routerRef:a})})},update:function(e,t,n,r){var i=r.routerRef,a=r.prefix,p=r.config,u=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),f=e.routers.get.byRef(i);f&&f.appDefinitionId===u&&e.routers.update(i,{prefix:a,config:p})},getByPage:function(e,t,n,r){var i=r.pageRef,a=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),p=e.routers.getRouterRef.byPage(i);if(!p)return p;var u=e.routers.get.byRef(p);return u&&u.appDefinitionId===a?p:void 0},getByPrefix:i,isValidPrefix:function(e,t,n,o){var r=o.prefix;return e.routers.isValidPrefix(t.applicationId,r)},pages:{add:function(e,t,n,r){var i=r.routerRef,a=r.pageTitle,p=r.pageRoles;return new Promise(function(n){var r=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),u=e.routers.get.byRef(i);u&&u.appDefinitionId===r||n(),n(e.routers.pages.add(i,a,p))})},delete:function(e,t,n,r){var i=r.routerRef,a=r.pageRef;return new Promise(function(n,r){var p=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),u=e.routers.get.byRef(i);u&&u.appDefinitionId===p?(e.pages.remove(a.id),n()):r()})},connect:function(e,t,n,r){var i=r.routerRef,a=r.pageRef,p=r.pageRoles,u=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),f=e.routers.get.byRef(i);f&&f.appDefinitionId===u&&e.routers.pages.connect(i,a,p)},disconnect:function(e,t,n,r){var i=r.routerRef,a=r.pageRef,p=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),u=e.routers.get.byRef(i);u&&u.appDefinitionId===p&&e.routers.pages.disconnect(i,a)},move:function(e,t,n,r){var i=r.fromRouterRef,a=r.toRouterRef,p=r.pageRef,u=o.default.get(e.platform.getAppDataByApplicationId(t.applicationId),"appDefinitionId"),f=e.routers.get.byRef(i),s=e.routers.get.byRef(a);f&&s&&s.appDefinitionId===u&&f.appDefinitionId===u&&e.routers.pages.move(p,i,a)},listConnectablePages:function(e){return e.routers.pages.listConnectablePages()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={create:function(e,t,n,o){var r=o.groupName,i=e.pagesGroup.create({groupName:r,appId:t.applicationId});return Promise.resolve(i)},addPageToPagesGroup:function(e,t,n,o){var r=o.pagesGroupPointer,i=o.pageId;e.pagesGroup.addPageToPagesGroup(r,i)},getById:function(e,t,n,o){var r=o.pagesGroupId;return e.pagesGroup.getById(r)},getByGroupName:function(e,t,n,o){var r=o.groupName;return e.pagesGroup.getByGroupName(r)},getAll:function(e,t){return e.pagesGroup.getAll(t.applicationId)},remove:function(e,t,n,o){var r=o.pagesGroupPointer;e.pagesGroup.remove(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicationPopups=t.isPopupOpened=t.close=t.open=t.addPopup=void 0;var o=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.addPopup=function(e,t,n,r){var i=r.title,a=r.definition,p=e.pages.popupPages.add(i,a);return(0,o.navigateTo)(e,t,n,{pageRef:p},p)},t.open=function(e,t,n,o){var i=o.popupRef,a=r.default.get(i,"id");a&&e.pages.popupPages.open(a)},t.close=function(e){e.pages.popupPages.close()},t.isPopupOpened=function(e){return e.pages.popupPages.isPopupOpened()},t.getApplicationPopups=function(e,t){var n=e.platform.getAppDataByApplicationId(t.applicationId).appDefinitionId;return n?e.pages.popupPages.getDataList().filter(function(e){return e.managingAppDefId===n}):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(13);function i(e,t,n,o){var r=o.pageRef;return e.pages.data.get(r.id)}t.default={navigateTo:o.navigateTo,setState:function(e,t,n,o){var r=o.state;e.platform.pages.setState(r)},getCurrent:function(e){return e.pages.getReference(e.pages.getFocusedPageId())},getPrimary:function(e){return e.pages.getReference(e.pages.getPrimaryPageId())},getHomePage:function(e){var t=e.homePage.get();return e.components.get.byId(t)},add:function(e,t,n,r){var i=r.title,a=r.definition,p=r.shouldAddMenuItem,u=e.pages.add(i,a,p);return(0,o.navigateTo)(e,t,n,{pageRef:u},u)},getPageData:i,data:{get:i,getAll:function(e){return e.pages.getPagesData()},update:function(e,t,n,o){var r=o.pageRef,i=o.data;e.pages.data.update(r.id,i)}},permissions:{hasPassword:function(e,t,n,o){var r=o.pageRef;return e.pages.permissions.hasPassword(r.id)},updatePagePassword:function(e,t,n,o){var r=o.pageRef,i=o.plainPassword;e.pages.permissions.updatePassword(r.id,i)},removePagePassword:function(e,t,n,o){var r=o.pageRef;e.pages.permissions.removePassword(r.id)}},remove:function(e,t,n,o){var r=o.pageRef;return new Promise(function(n,o){var i=e.platform.getAppDataByApplicationId(t.applicationId).appDefinitionId,a=e.pages.data.get(r.id);a||o("page with id '"+r.id+"' doesn't exist"),i!==a.managingAppDefId&&o("page with id '"+r.id+"' can not be deleted. page is not managed by this application"),e.pages.getCurrentPage().id===r.id&&o("It is not allowed to delete current page ("+r.id+"), please navigate to another page");var p=e.homePage.get();r.id===p&&o("It is not allowed to delete homePage ("+r.id+"), please set a new page as homePage and try again"),a.tpaApplicationId&&o("It is not allowed to delete a section page '("+r.id+")'");try{e.pages.remove(r.id)}catch(e){o(e)}n()})},getApplicationPages:function(e,t){var n=e.platform.getAppDataByApplicationId(t.applicationId).appDefinitionId;return n?e.pages.getPagesData().filter(function(e){return e.managingAppDefId===n}):[]},popupPages:{add:r.addPopup,open:r.open,close:r.close,isPopupOpened:r.isPopupOpened,getApplicationPopups:r.getApplicationPopups}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={create:function(e,t,n,r){var i=r.menuData,a=r.customId,p=o.default.assign({appId:t.applicationId},i);return e.menu.create(p,a)},connect:function(e,t,n,o){var r=o.menuCompPointer,i=o.menuId;e.menu.connect(r,i)},update:function(e,t,n,o){var r=o.menuId,i=o.menuData;e.menu.update(r,i)},remove:function(e,t,n,o){var r=o.menuId;e.menu.remove(r)},addItem:function(e,t,n,o){var r=o.menuId,i=o.menuItem;e.menu.addItem(r,i)},getById:function(e,t,n,o){var r=o.menuId;return e.menu.getById(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default={add:function(e,t,n,r){var i=r.languageCode;return e.language.add(i),(0,o.promiseApplied)(e)},current:{set:function(e,t,n,r){var i=r.languageCode;return e.language.current.set(i),(0,o.promiseApplied)(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={getSiteId:function(e){return e.generalInfo.getSiteId()},getMetaSiteId:function(e){return e.generalInfo.getMetaSiteId()},isSitePublished:function(e){return e.generalInfo.isSitePublished()},getLanguage:function(e){return e.generalInfo.getLanguage()},isSiteSaved:function(e){return!e.generalInfo.isFirstSave()},isHttpsEnabled:function(e){return e.generalInfo.isHttpsEnabled()},getAppInstance:function(e,t){var n="wix-code"===t.appDefinitionId?e.wixCode.getClientSpec().applicationId:t.applicationId;return e.tpa.app.getData(n).instance},getCurrency:function(e){return e.generalInfo.getCurrency()},getUserId:function(e){return e.generalInfo.getUserId()},getVendorProductId:function(e,t,n,r){var i=o.default.get(r,"appDefinitionId"),a=i?e.platform.getAppDataByAppDefId(i):e.platform.getAppDataByApplicationId(t.applicationId);return o.default.get(a,"vendorProductId")},getRegion:function(e){return e.generalInfo.getLocale()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={add:function(e,t,n,o){var r=o.label;return new Promise(function(t){return e.waitForChangesApplied(function(){e.history.add(r),t()})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getFontsOptions:function(e){return e.fonts.getFontsOptions()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r="platform.components.AppController",i="platform.components.AppWidget";function a(e,t,n){return e.components.getType(n)!==i||e.components.isDescendantOfComp(t,n)}function p(e,t,n){var o=e.platform.getAppDataByApplicationId(t).appDefinitionId,a=n?n.id:null;return e.components.getAllComponentsFromFull(a,function(t){return function(e){return e===r||e===i}(e.components.getType(t))&&e.components.data.get(t).applicationId===o})}function u(e,t,n,o){var r=o.controllerRef;return e.platform.controllers.connections.getControllerConnections(r)}t.default={listControllers:function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).pageRef,i=void 0===r?e.pages.getFocusedPage():r,a=p(e,t.applicationId,i);return o.default.map(a,function(e){return{controllerRef:e}})},listAllControllers:function(e,t){var n=p(e,t.applicationId);return o.default.map(n,function(e){return{controllerRef:e}})},listConnectableControllers:function(e,t,n,r){var i=r.componentRef,u=e.components.getPage(i),f=o.default.filter(p(e,t.applicationId,u),o.default.partial(a,e,i));return o.default.map(f,function(e){return{controllerRef:e}})},getControllerConnections:u,listControllerConnections:u,listConnections:function(e,t,n,r){var i=r.componentRef,a=e.platform.controllers.connections.get(i);return o.default.reject(a,{type:"WixCodeConnectionItem"})},listConnectedComponents:function(e,t,n,o){var r=o.controllerRef;return e.platform.controllers.connections.getConnectedComponents(r)},connect:function(e,t,n,o){var r=o.connectToRef,i=o.controllerRef,a=o.role,p=o.connectionConfig,u=o.isPrimary;return e.platform.controllers.connections.connect(r,i,a,p,u),{connectToRef:r,controllerRef:i,role:a}},disconnect:function(e,t,n,o){var r=o.connectToRef,i=o.controllerRef,a=o.role;return e.platform.controllers.connections.disconnect(r,i,a)},getData:function(e,t,n,r){var i=r.controllerRef,a=e.platform.controllers.settings.get(i);return{type:o.default.get(e.components.data.get(i),"controllerType"),config:a,displayName:e.platform.controllers.getName(i)}},saveConfiguration:function(e,t,n,o){var r=o.controllerRef,i=o.config;return e.platform.controllers.settings.set(r,i)},setDisplayName:function(e,t,n,o){var r=o.controllerRef,i=o.name;return e.platform.controllers.setName(r,i)},setState:function(e,t,n,o){var r=o.state;return e.platform.controllers.setState(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={removeAllOverrides:function(e,t,n,o){var r=o.componentRef;return new Promise(function(n,o){var i=e.platform.getAppDataByApplicationId(t.applicationId).appDefinitionId;"wysiwyg.viewer.components.RefComponent"!==e.components.getType(r)&&o("this method remove overrides for refComponent only"),e.components.data.get(r).appDefinitionId!==i&&o("the component with id '"+r.id+"' isn't belong to this app");try{e.components.refComponents.removeAllOverrides(r)}catch(e){o(e)}n()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=n(1),i=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}t.default={add:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.componentDefinition,a=r.pageRef,p=r.customId;return new Promise(function(t,n){o.default.has(i,"componentType")||n(new Error("componentDefinition must contain componentType"));var r=e.components.buildDefaultComponentStructure(i.componentType);o.default.merge(r,i),t(e.components.add(a,r,p))})},remove:function(e,t,n,o){var r=o.componentRef;e.viewMode.get()===e.viewMode.VIEW_MODES.MOBILE?e.mobile.hiddenComponents.hide(r):e.components.remove(r)},get:function(e,t,n,r){var i=r.componentRefs,a=r.properties,p=void 0===a?[]:a,u=o.default.compact(o.default.isArray(i)?i:[i]);return o.default.transform(u,function(t,n){var r={componentRef:n},i=!p.includes("components"),a=e.components.serialize(n,null,i);o.default.assign(r,o.default.pick(a,p)),o.default.includes(p,"sdkType")&&(r.sdkType=e.wixCode.getCompSdkType(n)),o.default.includes(p,"connections")&&(r.connections=e.platform.controllers.connections.get(n)),o.default.includes(p,"style")&&(r.style=e.components.style.get(n)),t.push(r)},[])},serialize:function(e,t,n,o){var r=o.componentRef,i=o.maintainIdentifiers,a=void 0!==i&&i;return e.components.serialize(r,null,!1,a)},getAllComponents:function(e){return e.components.getAllComponents()},getPage:function(e,t,n,o){var r=o.componentRef;return e.components.getPage(r)},getById:function(e,t,n,o){var r=o.id;return e.components.get.byId(r)},getChildren:function(e,t,n,o){var r=o.componentRef,i=o.recursive,a=void 0!==i&&i;return e.components.getChildren(r,a)},getAncestors:function(e,t,n,o){var r=o.componentRef;return e.components.getAncestors(r)},getType:function(e,t,n,o){var r=o.componentRef;return e.components.getType(r)},behaviors:{getRuntimeState:function(e,t,n,o){var r=o.componentRef;return e.components.behaviors.getRuntimeState(r)},execute:function(e,t,n,o){var i=o.componentRef,a=o.behaviorName,p=o.behaviorParams;return e.components.behaviors.execute(i,a,p),(0,r.promiseApplied)(e)}},properties:{get:function(e,t,n,o){var r=o.componentRef;return e.components.properties.get(r)},update:function(e,t,n,o){var r=o.componentRef,i=o.props;e.components.properties.update(r,i)}},data:{get:function(e,t,n,o){var r=o.componentRef;return e.components.data.get(r)},update:function(e,t,n,o){var r=o.componentRef,i=o.data;e.components.data.update(r,i)}},layout:{get:function(e,t,n,o){var r=o.componentRef;return e.components.layout.get(r)},update:function(e,t,n,o){var r=o.componentRef,i=o.layout;e.components.layout.update(r,i)}},style:{get:function(e,t,n,o){var r=o.componentRef;return e.components.style.get(r)},update:function(e,t,n,o){var r=o.componentRef,i=o.style;e.components.style.setCustom(r,null,i)},updateFull:function(e,t,n,o){var r=o.componentRef,i=o.style;e.components.style.update(r,i)}},design:{get:function(e,t,n,o){var r=o.componentRef;return e.components.design.get(r)},update:function(e,t,n,o){var r=o.componentRef,i=o.designItem,a=o.retainCharas;e.components.design.update(r,i,a)}},modes:{showComponentOnlyOnPagesGroup:function(e,t,n,o){var r=o.componentPointer,i=o.componentRef,a=void 0===i?r:i,p=o.pagesGroupPointer;e.components.modes.showComponentOnlyOnPagesGroup(a,p)},activateComponentMode:function(e,t,n,o){var r=o.componentRef,i=o.modeId;e.components.modes.activateComponentMode(r,i)},applyCurrentToAllModes:function(e,t,n,o){var r=o.componentRef;e.components.modes.applyCurrentToAllModes(r)},getModes:function(e,t,n,o){var r=o.componentRef;return e.components.modes.getModes(r)}},arrangement:{moveToIndex:function(e,t,n,o){var r=o.componentRef,i=o.index;return e.components.arrangement.moveToIndex(r,i)}},refComponents:i.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);t.default={install:function(e,t,n,r){return new Promise(function(n,i){o.default.get(r,"appDefinitionId")?e.platform.provision(r.appDefinitionId,{origin:{type:"APP",info:{appDefinitionId:o.default.get(t,"appDefinitionId")}}}).then(n,i):i(new Error("options must contain appDefinitionId"))})},registerToCustomEvents:function(e,t,n,o){var r=o.eventTypes;return e.platform.registerAppToCustomEvents(t.applicationId,r)},appStudioWidgets:{changeVariation:function(e,t,n,o){var r=o.componentRef,i=o.variationId;return new Promise(function(t){e.appStudioWidgets.changeVariation(r,i,t)})}},sessionState:{update:function(e,t,n,o){var i=o.stateMap;return e.platform.sessionState.update(i),(0,r.promiseApplied)(e)}},livePreview:{refresh:function(e,t,n,o){return e.platform.livePreview.refresh({apps:[t.appDefinitionId],forceWorkerRestart:o.forceWorkerRestart,source:o.source})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mobile=t.vfs=t.tpa=t.theme=t.fonts=t.siteMembers=t.siteSegments=t.routers=t.pagesGroup=t.pages=t.menu=t.language=t.info=t.history=t.controllers=t.components=t.application=t.save=t.waitForChangesApplied=void 0;var o=D(n(23)),r=D(n(22)),i=D(n(20)),a=D(n(19)),p=D(n(18)),u=D(n(17)),f=D(n(16)),s=D(n(15)),d=D(n(14)),c=D(n(12)),l=D(n(11)),g=D(n(10)),m=D(n(9)),v=D(n(8)),I=D(n(7)),y=D(n(6)),P=D(n(5));function D(e){return e&&e.__esModule?e:{default:e}}t.waitForChangesApplied=function(e,t){return e.waitForChangesApplied(t)},t.save=function(e){return new Promise(function(t,n){e.save(function(){return t()},function(e){return n(e)})})},t.application=o.default,t.components=r.default,t.controllers=i.default,t.history=p.default,t.info=u.default,t.language=f.default,t.menu=s.default,t.pages=d.default,t.pagesGroup=c.default,t.routers=l.default,t.siteSegments=g.default,t.siteMembers=m.default,t.fonts=a.default,t.theme=v.default,t.tpa=I.default,t.vfs=y.default,t.mobile=P.default}])});
//# sourceMappingURL=platform-api.min.js.map